Using in production
===================

By default, Hasura runs in development mode with extremely open permissions. You should NOT use this configuration in production.

Add an access key
------------------

To add an access-key to Hasura, pass the ``--access-key`` flag with a secret generated by you.

Run server in this mode using following docker command:

.. code-block:: bash

   docker run -P -d hasuranightly/raven:8df5234 raven \
              --database-url postgres://username:password@host:5432/dbname \
                serve \
                --access-key XXXXXXXXXXXXXXXX

Typically, you will also have a webhook for authentication:

.. code-block:: bash

   docker run -P -d hasuranightly/raven:8df5234 raven \
              --database-url postgres://username:password@host:5432/dbname \
                serve \
                --access-key XXXXXXXXXXXXXXXX
                --auth-hook https://myauth.mywebsite.com/user/session-info


Configure CORS
--------------

By default, all CORS requests are allowed. To run Hasura with more restrictive CORS settings, use the ``--cors-domain`` flag.

For example:

.. code-block:: bash

   docker run -P -d hasuranightly/raven:8df5234 raven \
              --database-url postgres://username:password@host:5432/dbname \
                serve \
                --access-key XXXXXXXXXXXXXXXX
                --cors-domain https://mywebsite.com:8090
